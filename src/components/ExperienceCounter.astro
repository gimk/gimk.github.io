<span id="experience-counter" class="font-semibold">7 years</span>

<script>
  function updateCounter() {
    const startDate = new Date('2018-03-01');
    const now = new Date();
    
    let years = now.getFullYear() - startDate.getFullYear();
    let months = now.getMonth() - startDate.getMonth();
    let days = now.getDate() - startDate.getDate();

    if (days < 0) {
      months--;
      const lastMonth = new Date(now.getFullYear(), now.getMonth(), 0);
      days += lastMonth.getDate();
    }

    if (months < 0) {
      years--;
      months += 12;
    }

    const counter = document.getElementById('experience-counter');
    if (counter) {
      const parts = [];
      if (years > 0) parts.push(`${years} year${years > 1 ? 's' : ''}`);
      if (months > 0) parts.push(`${months} month${months > 1 ? 's' : ''}`);
      if (days > 0) parts.push(`${days} day${days > 1 ? 's' : ''}`);

      let text = '';
      if (parts.length === 1) {
        text = parts[0];
      } else if (parts.length === 2) {
        text = parts.join(' and ');
      } else if (parts.length === 3) {
        text = `${parts[0]}, ${parts[1]}, and ${parts[2]}`;
      }
      
      counter.textContent = text || 'less than a day';
    }
  }

  updateCounter();
  // Update once a day or on navigation
  document.addEventListener("astro:after-swap", updateCounter);
</script>