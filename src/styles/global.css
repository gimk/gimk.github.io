@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-accent: 249 115 22; /* orange-500 */
  }

  html.dark {
    --color-accent: 56 189 248; /* sky-400 */
  }
}

html {
  overflow-y: scroll;
  color-scheme: light;
}

html.dark {
  color-scheme: dark;
}

html,
body {
  @apply w-full;
}

body {
  @apply font-sans antialiased relative;
  @apply flex flex-col min-h-screen;
  @apply bg-orange-50 dark:bg-slate-950;
  @apply text-black/85 dark:text-white/85;
}

header {
  @apply sticky top-0 left-0 right-0 z-50 py-4;
  @apply backdrop-blur-md;
  @apply border-b border-black/10 dark:border-white/10;
  isolation: isolate;
  background: linear-gradient(to bottom, #fff7ed 0%, rgba(255, 247, 237, 0.7) 100%);
}

html.dark header {
  background: linear-gradient(to bottom, #020617 0%, rgba(2, 6, 23, 0.7) 100%);
}

header::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  height: 16px;
  z-index: -1;
  background-image: radial-gradient(circle, currentColor 1px, transparent 1px);
  background-size: 4px 4px;
  @apply text-black/10 dark:text-white/10;
  pointer-events: none;
  mask-image: linear-gradient(to bottom, black, transparent);
  -webkit-mask-image: linear-gradient(to bottom, black, transparent);
}


main {
  @apply flex-1 py-8 overflow-x-clip;
}

footer {
  @apply py-8 text-sm overflow-x-clip;
  @apply border-t border-black/10 dark:border-white/10;
}

@layer components {
  .hero-ascii-text {
    @apply font-mono text-[10px] leading-[8px] tracking-[1px] text-accent-primary opacity-75 dark:opacity-50 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none;
  }
  
  .section-title {
    @apply font-semibold text-black dark:text-white text-xs uppercase tracking-widest;
  }
}

@layer utilities {
}

article {
  @apply max-w-full prose dark:prose-invert prose-img:mx-auto prose-img:my-auto;
  @apply prose-headings:font-mono prose-headings:font-semibold prose-p:font-serif;
  @apply prose-headings:text-black prose-headings:dark:text-white;
}

article img {
  @apply cursor-zoom-in;
}

h1, h2, h3, h4, h5, h6 {
  @apply font-mono;
}

@layer utilities {
  article a {
    @apply font-sans text-current underline underline-offset-2;
    @apply decoration-black/20 dark:decoration-white/20;
    @apply transition-colors duration-300 ease-in-out;
  }
  article a:hover {
    @apply text-black dark:text-white;
    @apply decoration-black/20 dark:decoration-white/40;
  }
}

.animate {
  @apply opacity-0 translate-y-3;
  @apply transition-all duration-700 ease-out;
}

.animate.show {
  @apply opacity-100 translate-y-0;
}

html #back-to-top {
  @apply opacity-0 pointer-events-none;
}

html.scrolled #back-to-top {
  @apply opacity-100 pointer-events-auto;
}

.shadow-ascii {
  position: relative;
  isolation: isolate;
}

.shadow-ascii::after {
  content: "";
  position: absolute;
  top: 12px;
  left: 12px;
  width: 100%;
  height: 100%;
  z-index: -1;
  background-image: radial-gradient(circle, currentColor 1px, transparent 1px);
  background-size: 4px 4px;
  @apply text-black/10 dark:text-white/10;
  pointer-events: none;
  transition: top 0.3s ease, left 0.3s ease, color 0.3s ease;
}

.shadow-hover:hover::after {
  top: 4px;
  left: 4px;
  background-image: radial-gradient(circle, currentColor 0.8px, transparent 0.8px);
  @apply text-accent-primary/40 dark:text-accent-primary/40;
}